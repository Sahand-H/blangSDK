package blang.distributions 

 /** The geometric distribution on \(\{0, 1, 2, \dots\}\) */
model Geometric{
  
	/* The number of trials until success. */
	random IntVar realization
	
	/* The probability of success for each trial. */
	param RealVar p
	
	laws {
		logf(p, realization) {
			if (p <= 0 || p >= 1) return NEGATIVE_INFINITY
			if (realization < 0) return NEGATIVE_INFINITY
			return realization*log(1-p) + log(p)			
		}
	}
	generate(rand){ rand.geometric(p) }
} 